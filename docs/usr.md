# Спецификация пользовательских требований (USR) ClinNexus
**Версия:** 4.1  
**Дата:** 10.01.2026  
**Язык системы:** Русский  
**Нормативная база:** Правила GCP ЕАЭС (Решение №79), Правила исследований БЭ (Решение №85) и требования к отчету (Решение №78) в **актуальных редакциях**.

---

## 1. Введение и контекст

### 1.1 Цель (Purpose)
Создание интеллектуальной GxP-ориентированной платформы для медицинских райтеров, обеспечивающей:
*   Автоматизированный контроль качества и внутренней логики Протокола КИ.
*   Гарантированную согласованность данных между Протоколом и производными документами (Брошюра, ИС, Отчет).
*   Ускорение подготовки пакета документов за счет автоматической генерации и трансформации стилей.

### 1.2 Область применения (Scope of Application)
Платформа применяется фармацевтическими компаниями и контрактными исследовательскими организациями (CRO) при подготовке документации для регистрации лекарственных средств в рамках единого рынка ЕАЭС и РФ.

### 1.3 Пользовательские роли (User Roles)
Для этапа MVP определена одна ключевая роль:
*   **Медицинский райтер (Medical Writer):** основной пользователь, осуществляющий загрузку документов, валидацию разбора, аудит несоответствий, управление изменениями и выгрузку финальных версий.

### 1.4 В области применения (In-Scope)
*   **Протокол исследования:** внутренний аудит, сравнение версий, проверка на соответствие Брошюре.
*   **Информированное согласие (ICF):** генерация на основе Протокола, аудит загруженных файлов.
*   **Клинический отчет (CSR):** автоматическое заполнение вводной части (пп. 1–10).
*   **Брошюра исследователя (БИ):** семантический разбор и сверка с Протоколом.

### 1.5 Вне области применения (Out-of-Scope)
*   Генерация Брошюры исследователя «с нуля» (только аудит).
*   Прямая интеграция с ПСА (SAP) для автоматического расчета статистических данных.
*   Многоязычная поддержка (в MVP только русский язык).
*   Электронное подписание документов (e-sign).

### 1.6 Предпосылки и ограничения (Assumptions & Constraints)
*   **Формат файлов:** Входные и выходные данные строго в формате MS Word (DOCX).
*   **Регуляторная база:** Система ориентирована на актуальные редакции **Правил надлежащей клинической практики ЕАЭС** (Решение Совета ЕЭК от 03.11.2016 №79) и **Правил проведения исследований биоэквивалентности** (Решение Коллегии ЕЭК от 03.11.2016 №85) с учетом всех принятых изменений и дополнений.
*   **Источник истины:** Протокол всегда имеет приоритет над остальными документами.

---

## 2. Модуль 1: Интеллектуальный разбор и Ingestion

**USR-101 (Семантический парсинг):** Система должна автоматически распознавать структуру и разделять на секции документы согласно стандартам ЕАЭС:
*   **Протокол КИ:** Согласно актуальным требованиям к структуре Протокола (GCP ЕАЭС).
*   **Брошюра исследователя (БИ):** Согласно актуальным требованиям к Брошюре (GCP ЕАЭС).
*   **Отчет о КИ (CSR):** Согласно Приложению №1 к Правилам регистрации и экспертизы ЛС (Решение Совета ЕЭК №78 / ICH E3).
*   **Информированное согласие (ICF):** Разбор на обязательные элементы информирования субъекта.

**USR-102 (Цифровой двойник документа):** Создание трехслойного представления документа:
1.  **Якоря (Anchors):** Уникальные ID для каждого абзаца/ячейки для обеспечения прослеживаемости.
2.  **База фактов (Fact Store):** Структурированные параметры исследования.
3.  **Индекс нарратива (Narrative Index):** Векторный индекс для поиска по смыслу и стилистической трансформации текста.

**USR-103 (UI-валидация разбора):** Интерфейс подтверждения, в котором пользователь проверяет правильность выделения семантических зон и извлеченных фактов перед запуском аудита.

---

## 3. Модуль 2: Структура и атрибуты Fact Store

**USR-201 (Мета-признаки фактов):** Поддержка атрибутов: Scope (Арма/Группа), Data Type, Criticality (GXP), Transformability (для ICF), Temporal, Consumer, Priority.

**USR-202 (Таксономия фактов):** Извлечение административных данных, дизайна, популяции, терапии, блоков БЭ (Washout, Sampling points, аналиты) и безопасности.

---

## 4. Модуль 3: Внутридокументный аудит (Протокол)

### 4.1 Редакторский блок
**USR-301:** Spellcheck, Grammar, Style Control (научный стиль).
**USR-302 (Терминологический страж):** Автоматический контроль единообразия названий препарата, популяции и процедур в рамках документа.

### 4.2 Логический и интеллектуальный аудит
**USR-303 (Противоречия):** Выявление конфликтов между Синопсисом и текстом Протокола.
**USR-304 (Календарная логика):** Сверка таблиц и текста; контроль Visit Windows.
**USR-305 (Трассировка Триады):** Проверка связности: `Цель -> Конечная точка -> Метод анализа`.
**USR-306 (Специфика БЭ):** Сверка Washout с периодом T1/2; плотность точек забора крови; соответствие меню диеты условиям приема.

---

## 5. Модуль 4: Междокументный аудит (Cross-Consistency)

**USR-401:** Сверка Протокола с БИ, ICF и CSR.
**USR-402:** Side-by-side визуализация противоречий между фрагментами документов.
**USR-403 (Missing Evidence):** Вывод списка недостающих данных (TBD), требуемых стандартом.

---

## 6. Модуль 5: Генерация документов (Transformer)

**USR-501 (Генерация ICF):**
*   **Layman Translation:** Упрощение медицинских терминов (через Narrative Index).
**USR-502 (Заполнение CSR):** Автозаполнение разделов 1–10 Клинического отчета данными Протокола.

---

## 7. Модуль 6: Сравнение версий и Перечень изменений

**USR-601 (Semantic Diff):** Выявление различий на уровне текста (Redline) и значений параметров (Fact Store).
**USR-602 (Automatic Summary of Changes):** Генерация документа «Перечень изменений» в DOCX (Таблица: Раздел -> Было -> Стало -> Обоснование).

---

## 8. Системные и нефункциональные требования
**USR-701:** Выгрузка в DOCX с сохранением корпоративных стилей.
**USR-702:** Audit Trail — полная прослеживаемость всех действий и системных решений.
**USR-703:** Производительность — аудит документа до 300 стр. не более 10 мин.

---

## 9. Глоссарий терминов

| Термин | Определение |
| :--- | :--- |
| **КИ** | Клиническое исследование. |
| **БЭ** | Исследование биоэквивалентности. |
| **БИ** | Брошюра исследователя (Investigator's Brochure). |
| **CSR** | Clinical Study Report (Отчет о КИ). |
| **ICF** | Informed Consent Form (Информированное согласие). |
| **GXP** | Совокупность надлежащих практик (GCP, GLP и др.). |
| **Audit Trail** | Неизменяемый лог всех действий в системе (кто, что и когда изменил). |
| **“Терминологический страж”** | Модуль ClinNexus для контроля единообразия терминологии. |
| **Якорь (Anchor)** | Уникальный ID атомарного элемента документа для прослеживаемости. |
| **Fact Store** | Структурированная база знаний исследования с подтвержденными фактами. |
| **Источник истины** | Утвержденный Протокол, значения которого являются эталонными. |
| **Layman Translation** | Упрощение научно-медицинских терминов для текста ИС. |
| **Подавление (Suppression)** | Маркировка найденной ошибки как ложноположительной с обоснованием. |
| **Redline mode** | Режим отображения правок (зачеркивание и цветовое выделение). |