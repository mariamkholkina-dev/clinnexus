{
  "doc_type": "protocol",
  "section_key": "protocol.endpoints",
  "title": "Endpoints",
  "version": 2,
  "is_active": true,
  "citation_policy": "per_claim",
  "required_facts_json": { "facts": [] },
  "allowed_sources_json": {
    "dependency_sources": [
      {
        "doc_type": "protocol",
        "section_keys": ["protocol.endpoints"],
        "required": true,
        "role": "primary",
        "precedence": 0,
        "min_mapping_confidence": 0.5,
        "allowed_content_types": ["p", "hdr", "li", "tbl"]
      }
    ],
    "document_scope": { "same_study_only": true, "allow_superseded": false }
  },
  "retrieval_recipe_json": {
    "language": { "mode": "auto" },
    "context_build": { "max_chars": 12000 },
    "prefer_content_types": ["li", "p", "tbl"],
    "fallback_search": {
      "query_templates": {
        "ru": ["конечные точки", "первичн* конечн* точк*", "вторичн* конечн* точк*"],
        "en": ["endpoints", "primary endpoint", "secondary endpoint"]
      }
    },
    "security": { "secure_mode_required": true }
  },
  "qc_ruleset_json": {
    "phases": ["input_qc", "citation_qc"],
    "gate_policy": {
      "on_missing_required_fact": "blocked",
      "on_low_mapping_confidence": "blocked",
      "on_citation_missing": "fail"
    },
    "numbers_match_facts": false,
    "warnings": []
  }
}

